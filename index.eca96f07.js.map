{"mappings":"AAAA,MAAMA,EAAO,CACTC,YAAaC,SAASC,cAAc,iBACpCC,OAAQF,SAASC,cAAc,WAC/BE,aAAcH,SAASC,cAAc,UACrCG,QAASJ,SAASC,cAAc,eAGvBF,YAAEM,EAAWH,OAAEI,EAAMH,aAAEI,EAAYH,QAAEI,GAAWV,ECiD7D,SAASW,IACLF,EAAaG,QAAS,EACtBF,EAAQE,QAAS,EACjBJ,EAAOI,QAAS,C,CCrDTC,MAAM,qHACZC,MAAKC,IACF,IAAKA,EAAKC,GACN,MAAM,IAAIC,MAAMF,EAAKG,YAEzB,OAAOH,EAAKI,MAAM,IDPzBL,MAAKM,GAAQA,EAAKC,KAAIC,GAAS,iBAAiBA,EAAMC,MAAMD,EAAME,kBAAiBC,KAAK,MACxFX,MAAKY,IACFnB,EAAYoB,UAAYD,CAAI,IAE/BE,OAAMC,IACHC,MAAMD,MAAMA,GACZlB,GAAkB,IAErBoB,SAAQ,KACLvB,EAAOI,QAAS,CAAI,IAGxBL,EAAYyB,iBAAiB,UAE7B,YCHgCC,EDIZ1B,EAAY2B,MCH5B1B,EAAOI,QAAS,EAETC,MAAM,sIAA0DoB,KACtEnB,MAAKC,IACF,IAAKA,EAAKC,GACN,MAAM,IAAIC,MAAMF,EAAKG,YAEzB,OAAOH,EAAKI,MAAM,IAErBL,MAAKM,GAAQA,EAAK,MDLlBN,MAAKM,KAYV,SAAuBe,GACnB,MAAMC,OAAEA,EAAMC,IAAEA,GAAQF,GACjBG,GAAaF,EAEdG,EAAWrC,SAASsC,cAAc,OACxCD,EAASE,IAAMJ,EACfE,EAASG,IAAMJ,EAAUd,KACzBe,EAASI,MAAMC,SAAW,QAC1BL,EAASI,MAAME,UAAY,OAE3B,MAAMC,EAAY5C,SAASsC,cAAc,MACzCM,EAAUC,YAAcT,EAAUd,KAElC,MAAMwB,EAAc9C,SAASsC,cAAc,KAC3CQ,EAAYD,YAAcT,EAAUU,YAEpC,MAAMC,EAAc/C,SAASsC,cAAc,KAC3CS,EAAYF,YAAc,gBAAgBT,EAAUW,cAEpDvC,EAAQiB,UAAY,GACpBjB,EAAQwC,OAAOX,EAAUO,EAAWE,EAAaC,GACjDvC,EAAQE,QAAS,C,CAhCbuC,CAAc/B,EAAK,IAEtBQ,OAAMC,IACHC,MAAMD,MAAMA,GACZlB,GAAkB,IAErBoB,SAAQ,KACLvB,EAAOI,QAAS,CAAI,ICbrB,IAAyBqB,C","sources":["src/js/refs.js","src/index.js","src/js/cat-api.js"],"sourcesContent":["const refs = {\n    breedSelect: document.querySelector('.breed-select'),\n    loader: document.querySelector('.loader'),\n    errorMessage: document.querySelector('.error'),\n    catInfo: document.querySelector('.cat-info'),\n};\n\nexport const { breedSelect, loader, errorMessage, catInfo } =refs;  ","import {fetchBreeds, fetchCatByBreed} from './js/cat-api.js'\nimport {breedSelect, loader, catInfo, errorMessage} from './js/refs.js'\n\nfetchBreeds()\n.then(data => data.map(breed => `<option value=${breed.id}>${breed.name}</option>`).join(''))\n.then(html => {\n    breedSelect.innerHTML = html\n})\n.catch(error => {\n    alert.error(error);\n    showErrorMessage();\n})\n.finally(() => {\n    loader.hidden = true;\n});\n\nbreedSelect.addEventListener('change', onCreateCatCard);\n\nfunction onCreateCatCard() {\n    fetchCatByBreed(breedSelect.value)\n    .then(data => {\n        renderCatInfo(data);\n    })\n    .catch(error => {\n        alert.error(error);\n        showErrorMessage();\n    })    \n    .finally(() => {\n        loader.hidden = true;\n    });\n}\n\nfunction renderCatInfo(catData) {\n    const { breeds, url } = catData;\n    const [breedInfo] = breeds;\n\n    const catImage = document.createElement('img');\n    catImage.src = url;\n    catImage.alt = breedInfo.name;\n    catImage.style.maxWidth = '400px';\n    catImage.style.marginTop = '20px';\n\n    const breedName = document.createElement('h3');\n    breedName.textContent = breedInfo.name;\n\n    const description = document.createElement('p');\n    description.textContent = breedInfo.description;\n\n    const temperament = document.createElement('p');\n    temperament.textContent = `Temperament: ${breedInfo.temperament}`;\n\n    catInfo.innerHTML = '';\n    catInfo.append(catImage, breedName, description, temperament);\n    catInfo.hidden = false;\n};\n\nfunction showErrorMessage() {\n    errorMessage.hidden = false;\n    catInfo.hidden = true;\n    loader.hidden = true;\n};","import {loader} from './refs.js'\n\nconst API_KEY = \"live_JX7Cl70WmKbcf2YQASZ9ePLvqYa4PVuP0M6KdaEkMtiX6yOKS4FuSAsEi8I25n87\";\nconst BASE_URL = \"https://api.thecatapi.com/v1\";\n\nexport function fetchBreeds () {\n    return fetch(`${BASE_URL}/breeds?api_key=${API_KEY}`)\n    .then(resp => {\n        if (!resp.ok) {\n            throw new Error(resp.statusText);\n        }\n        return resp.json();\n    })\n};\n\nexport function fetchCatByBreed(breedId) {\n    loader.hidden = false;\n\n    return fetch(`${BASE_URL}/images/search?api_key=${API_KEY}&breed_ids=${breedId}`)\n    .then(resp => {\n        if (!resp.ok) {\n            throw new Error(resp.statusText);\n        }\n        return resp.json();\n    })\n    .then(data => data[0])\n};"],"names":["$ee27a4d7c64fc8c4$var$refs","breedSelect","document","querySelector","loader","errorMessage","catInfo","$ee27a4d7c64fc8c4$export$fd7114b2611b6dca","$ee27a4d7c64fc8c4$export$f4c5de44377d2946","$ee27a4d7c64fc8c4$export$493b5823483d2c4e","$ee27a4d7c64fc8c4$export$ce252ca49f67e4ee","$1f0dc3b9307be026$var$showErrorMessage","hidden","fetch","then","resp","ok","Error","statusText","json","data","map","breed","id","name","join","html","innerHTML","catch","error","alert","finally","addEventListener","breedId","value","catData","breeds","url","breedInfo","catImage","createElement","src","alt","style","maxWidth","marginTop","breedName","textContent","description","temperament","append","$1f0dc3b9307be026$var$renderCatInfo"],"version":3,"file":"index.eca96f07.js.map"}