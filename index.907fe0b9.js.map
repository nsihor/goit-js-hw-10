{"mappings":"AAAA,MAAMA,EAAO,CACTC,YAAaC,SAASC,cAAc,iBACpCC,OAAQF,SAASC,cAAc,WAC/BE,aAAcH,SAASC,cAAc,UACrCG,QAASJ,SAASC,cAAc,eAGvBF,YAAEM,EAAWH,OAAEI,EAAMH,aAAEI,EAAYH,QAAEI,GAAWV,ECuBtD,SAASW,IACZF,EAAaG,QAAS,EACtBL,EAAYK,QAAS,EACrBF,EAAQE,QAAS,EACjBJ,EAAOI,QAAS,C,CA5BTC,MAAM,qHACZC,MAAKC,IACF,IAAKA,EAAKC,GACN,MAAM,IAAIC,MAEd,OAAOF,EAAKG,MAAM,IAErBC,MAAMR,GCTVG,MAAKM,GAAQA,EAAKC,KAAIC,GAAS,iBAAiBA,EAAMC,MAAMD,EAAME,kBAAiBC,KAAK,MACxFX,MAAKY,IACFlB,EAAOI,QAAS,EAChBL,EAAYoB,UAAYD,CAAI,IAGhCnB,EAAYqB,iBAAiB,UAE7B,YDIgCC,ECHZtB,EAAYuB,MDI5BtB,EAAOI,QAAS,EAETC,MAAM,sIAA0DgB,KACtEf,MAAKC,IACF,IAAKA,EAAKC,GACN,MAAM,IAAIC,MAEd,OAAOF,EAAKG,MAAM,IAErBJ,MAAKM,GAAQA,EAAK,KAClBD,MAAMR,ICbNG,MAAKM,KAYV,SAAuBW,GACnB,MAAMC,OAAEA,EAAMC,IAAEA,GAAQF,GACjBG,GAAaF,EAEdG,EAAWjC,SAASkC,cAAc,OACxCD,EAASE,IAAMJ,EACfE,EAASG,IAAMJ,EAAUV,KACzBW,EAASI,MAAMC,SAAW,QAC1BL,EAASI,MAAME,UAAY,OAE3B,MAAMC,EAAYxC,SAASkC,cAAc,MACzCM,EAAUC,YAAcT,EAAUV,KAElC,MAAMoB,EAAc1C,SAASkC,cAAc,KAC3CQ,EAAYD,YAAcT,EAAUU,YAEpC,MAAMC,EAAc3C,SAASkC,cAAc,KAC3CS,EAAYF,YAAc,gBAAgBT,EAAUW,cAEpDnC,EAAQiB,UAAY,GACpBjB,EAAQoC,OAAOX,EAAUO,EAAWE,EAAaC,GACjDnC,EAAQE,QAAS,C,CAhCbmC,CAAc3B,EAAK,IAEtBD,OAAM6B,IACHC,QAAQD,MAAMA,GACdrC,GAAkB,IAErBuC,SAAQ,KACL1C,EAAOI,QAAS,CAAI,IDNrB,IAAyBiB,C","sources":["src/js/refs.js","src/js/cat-api.js","src/index.js"],"sourcesContent":["const refs = {\n    breedSelect: document.querySelector('.breed-select'),\n    loader: document.querySelector('.loader'),\n    errorMessage: document.querySelector('.error'),\n    catInfo: document.querySelector('.cat-info'),\n};\n\nexport const { breedSelect, loader, errorMessage, catInfo } =refs;  ","import { breedSelect, loader, errorMessage, catInfo } from './refs.js'\n\nconst API_KEY = \"live_JX7Cl70WmKbcf2YQASZ9ePLvqYa4PVuP0M6KdaEkMtiX6yOKS4FuSAsEi8I25n87\";\nconst BASE_URL = \"https://api.thecatapi.com/v1\";\n\nexport function fetchBreeds () {\n    return fetch(`${BASE_URL}/breeds?api_key=${API_KEY}`)\n    .then(resp => {\n        if (!resp.ok) {\n            throw new Error();\n        }\n        return resp.json();\n    })\n    .catch(showErrorMessage)\n};\n\nexport function fetchCatByBreed(breedId) {\n    loader.hidden = false;\n\n    return fetch(`${BASE_URL}/images/search?api_key=${API_KEY}&breed_ids=${breedId}`)\n    .then(resp => {\n        if (!resp.ok) {\n            throw new Error();\n        }\n        return resp.json();\n    })\n    .then(data => data[0])\n    .catch(showErrorMessage)\n};\n\nexport function showErrorMessage() {\n    errorMessage.hidden = false;\n    breedSelect.hidden = true;\n    catInfo.hidden = true;\n    loader.hidden = true;\n};","import {fetchBreeds, fetchCatByBreed, showErrorMessage} from './js/cat-api.js'\nimport {breedSelect, loader, catInfo } from './js/refs.js'\n\nfetchBreeds()\n.then(data => data.map(breed => `<option value=${breed.id}>${breed.name}</option>`).join(''))\n.then(html => {\n    loader.hidden = true;\n    breedSelect.innerHTML = html\n});\n\nbreedSelect.addEventListener('change', onCreateCatCard);\n\nfunction onCreateCatCard() {\n    fetchCatByBreed(breedSelect.value)\n    .then(data => {\n        renderCatInfo(data);\n    })\n    .catch(error => {\n        console.error(error);\n        showErrorMessage();\n    })    \n    .finally(() => {\n        loader.hidden = true;\n    });\n}\n\nfunction renderCatInfo(catData) {\n    const { breeds, url } = catData;\n    const [breedInfo] = breeds;\n\n    const catImage = document.createElement('img');\n    catImage.src = url;\n    catImage.alt = breedInfo.name;\n    catImage.style.maxWidth = '400px';\n    catImage.style.marginTop = '20px';\n\n    const breedName = document.createElement('h3');\n    breedName.textContent = breedInfo.name;\n\n    const description = document.createElement('p');\n    description.textContent = breedInfo.description;\n\n    const temperament = document.createElement('p');\n    temperament.textContent = `Temperament: ${breedInfo.temperament}`;\n\n    catInfo.innerHTML = '';\n    catInfo.append(catImage, breedName, description, temperament);\n    catInfo.hidden = false;\n};\n\n\n"],"names":["$ee27a4d7c64fc8c4$var$refs","breedSelect","document","querySelector","loader","errorMessage","catInfo","$ee27a4d7c64fc8c4$export$fd7114b2611b6dca","$ee27a4d7c64fc8c4$export$f4c5de44377d2946","$ee27a4d7c64fc8c4$export$493b5823483d2c4e","$ee27a4d7c64fc8c4$export$ce252ca49f67e4ee","$c4ebbd28ee7007ee$export$f3b8e31d958a9f24","hidden","fetch","then","resp","ok","Error","json","catch","data","map","breed","id","name","join","html","innerHTML","addEventListener","breedId","value","catData","breeds","url","breedInfo","catImage","createElement","src","alt","style","maxWidth","marginTop","breedName","textContent","description","temperament","append","$1f0dc3b9307be026$var$renderCatInfo","error","console","finally"],"version":3,"file":"index.907fe0b9.js.map"}